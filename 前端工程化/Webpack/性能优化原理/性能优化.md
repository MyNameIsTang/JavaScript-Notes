## Webpack 性能优化原理和目标

1. 分析构建速度之测量插件 speed-measure-webpack-plugin
   显示每个 loader 和 plugin 执行时间，会将比较耗时的用红色标记出来

- 使用方法
  - speed-measure-webpack-plugin
  - 使用.wrap 方法包裹 webpack 配置
  ```
    const SpeedMeasurePlugin = require("speed-measure-webpack-plugin")
    const smp = new SpeedMeasurePlugin()
    smp.wrap(webpackConfig)
  ```
- 其他配置：https://github.com/stephencookdev/speed-measure-webpack-plugin

```
  [vue.config.js]

  const { defineConfig } = require("@vue/cli-service")
  const SpeedMeasureWebpackPlugin = require("speed-measure-webpack-plugin")
  const cmp = new SpeedMeasureWebpackPlugin({})

  module.exports = defineConfig({
    transpileDependencies: true,
    configureWebpack: smp.wrap({})
  })
```

2. 构建体积检测插件 webpack-bundle-analyzer
   webpack-bundle-analyzer 是 webpack 的插件，需要配合 webpack 和 webpack-cli 一起使用。这个插件可以读取 output 文件夹中的 stats.json 文件，把该文件可视化展现，生成代码分析报告，可以直观地分析打包出的文件有哪些，及他们的大小、占比情况、各文件 Gzipped 后的大小、模块包含关系、依赖项等

- 源代码：https://github.com/webpack-contrib/webpack-bundle-analyzer
- 通过分析图
  - 了解 bundle 包中的真正内容
  - 找出哪些模块尺寸最大
  - 查找误引入的模块
  - 优化项目
- 使用方法

```
  const BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin;

  module.exports = {
    plugins: [
      new BundleAnalyzerPlugin()
    ]
  }
```
